{"version":3,"file":"hl-list-notification.bundle.js","sources":["../src/components/Item.js","../src/hl-list-notification.js"],"sourcesContent":["export const Item = {\r\n   props: [\"item\"],\r\n   computed: {\r\n      colorView() {\r\n         return this.item.UF_VIEW == 'false' ? false : true;\r\n      }\r\n   },\r\n   methods: {\r\n      // Отправка события и изменение флага просмотра\r\n      updateView() {\r\n         if (!this.colorView) {\r\n            this.$Bitrix.eventEmitter.emitAsync('updateview', { id: this.item.ID }).then((result) => {\r\n               if (result[0]) {\r\n                  this.item.UF_VIEW = 'true';\r\n               }\r\n            });\r\n         }\r\n      }\r\n   },\r\n   /* html */\r\n   template: `\r\n   <li ref=\"elem\" :class=\"{checked: !colorView}\" @mouseover=\"updateView\">\r\n      <div class=\"date\">{{item.UF_DATE}}</div>\r\n      <div>{{item.UF_TEXT}}</div>\r\n   </li>\r\n   `,\r\n};\r\n","import { BitrixVue } from \"ui.vue3\";\nimport { Item } from \"./components/Item\";\nimport { Pagenavigation } from \"local.Pagenavigation\";\n\n/**\n * мутирующий от дефолтного компонент список уведомлений\n * изменяется шаблон и внутренний компонент\n * пробрасываются параметры\n */\nBitrixVue.mutateComponent('HlList', {\n\tcomponents: {\n\t\tItem,\n\t\tPagenavigation,\n\t},\n\t/*html*/\n\ttemplate: `\n\t<template v-if=\"items.length\">\n\t\t<template v-if=\"showBtn\">\n\t\t\t<button @click.stop=\"updateAll\" class=\"notifications-news__check-button\">{{$Bitrix.Loc.getMessage('BTN_VIEW_ALL')}}</button>\n\t\t</template>\n\t\t<ul class=\"notifications-news__list\">\n\t\t\t<Item v-for=\"item in items\" :item=\"item\" :key=\"item.id\"></Item>\n\t\t</ul>\n\t\t<!-- пагинация появляется при >= 10 элементов -->\n\t\t<Pagenavigation @pagerfunc=\"ChangePage\" :Total=\"Total\" :PageCNTDef=\"arParams.COUNT_PAGE\" :PageCNT=\"this.CountPageDef\" :key=\"RenderPagination\"></Pagenavigation>\n\t</template>\n   <div  v-else class=\"no-messages\">{{$Bitrix.Loc.getMessage('ITEMS_NOT_FOUND')}}</div>\n\t`,\n});\n\nexport class HlListNotification {\n\t#application;\n\n\tconstructor(rootNode) {\n\n\t\tthis.rootNode = document.querySelector(rootNode);\n\n\t}\n\n\tinit(arParams) {\n\n\t\tthis.#application = BitrixVue.createApp({\n\t\t\tname: \"HlListNotification\",\n\t\t\tdata() {\n\t\t\t\treturn {\n\t\t\t\t\tarParams: arParams,\n\t\t\t\t}\n\t\t\t},\n\t\t\tcomponents: {\n\t\t\t\tHlListMutate: BitrixVue.defineAsyncComponent(\n\t\t\t\t\t\"local.hl-list\",\n\t\t\t\t\t\"HlList\"\n\t\t\t\t),\n\t\t\t},\n\t\t\t/* html */\n\t\t\ttemplate: `\n\t\t\t\t\t<HlListMutate :arParams=\"arParams\"></HlListMutate>\n\t\t\t  `,\n\t\t});\n\t\tthis.#application.mount(this.rootNode);\n\t}\n}"],"names":["Item","props","computed","colorView","item","UF_VIEW","methods","updateView","_this","$Bitrix","eventEmitter","emitAsync","id","ID","then","result","template","BitrixVue","mutateComponent","components","Pagenavigation","_application","WeakMap","HlListNotification","rootNode","babelHelpers","classCallCheck","_classPrivateFieldInitSpec","writable","value","document","querySelector","createClass","key","init","arParams","classPrivateFieldSet","createApp","name","data","HlListMutate","defineAsyncComponent","classPrivateFieldGet","mount"],"mappings":";;;;GAAO,IAAMA,IAAI,GAAG;KACjBC,KAAK,EAAE,CAAC,MAAM,CAAC;KACfC,QAAQ,EAAE;OACPC,SAAS,WAAAA,YAAG;SACT,OAAO,IAAI,CAACC,IAAI,CAACC,OAAO,IAAI,OAAO,GAAG,KAAK,GAAG,IAAI;;MAEvD;KACDC,OAAO,EAAE;;OAENC,UAAU,WAAAA,aAAG;SAAA,IAAAC,KAAA;SACV,IAAI,CAAC,IAAI,CAACL,SAAS,EAAE;WAClB,IAAI,CAACM,OAAO,CAACC,YAAY,CAACC,SAAS,CAAC,YAAY,EAAE;aAAEC,EAAE,EAAE,IAAI,CAACR,IAAI,CAACS;YAAI,CAAC,CAACC,IAAI,CAAC,UAACC,MAAM,EAAK;aACtF,IAAIA,MAAM,CAAC,CAAC,CAAC,EAAE;eACZP,KAAI,CAACJ,IAAI,CAACC,OAAO,GAAG,MAAM;;YAE/B,CAAC;;;MAGV;;KAEDW,QAAQ;GAMX,CAAC;;;;AC1BD;GAIA;GACA;GACA;GACA;GACA;AACAC,oBAAS,CAACC,eAAe,CAAC,QAAQ,EAAE;KACnCC,UAAU,EAAE;OACXnB,IAAI,EAAJA,IAAI;OACJoB,cAAc,EAAdA;MACA;;KAEDJ,QAAQ;GAaT,CAAC,CAAC;GAAC,IAAAK,YAAA,oBAAAC,OAAA;AAEH,OAAaC,kBAAkB;KAG9B,SAAAA,mBAAYC,QAAQ,EAAE;OAAAC,YAAA,CAAAC,cAAA,OAAAH,kBAAA;OAAAI,0BAAA,OAAAN,YAAA;SAAAO,QAAA;SAAAC,KAAA;;OAErB,IAAI,CAACL,QAAQ,GAAGM,QAAQ,CAACC,aAAa,CAACP,QAAQ,CAAC;;KAEhDC,YAAA,CAAAO,WAAA,CAAAT,kBAAA;OAAAU,GAAA;OAAAJ,KAAA,WAAAK,KAEIC,QAAQ,EAAE;SAEdV,YAAA,CAAAW,oBAAA,KAAI,EAAAf,YAAA,EAAgBJ,iBAAS,CAACoB,SAAS,CAAC;WACvCC,IAAI,EAAE,oBAAoB;WAC1BC,IAAI,WAAAA,OAAG;aACN,OAAO;eACNJ,QAAQ,EAAEA;cACV;YACD;WACDhB,UAAU,EAAE;aACXqB,YAAY,EAAEvB,iBAAS,CAACwB,oBAAoB,CAC3C,eAAe,EACf,QACD;YACA;;WAEDzB,QAAQ;UAGR,CAAC;SACFS,YAAA,CAAAiB,oBAAA,KAAI,EAAArB,YAAA,EAAcsB,KAAK,CAAC,IAAI,CAACnB,QAAQ,CAAC;;;KACtC,OAAAD,kBAAA;GAAA;;;;;;;;"}