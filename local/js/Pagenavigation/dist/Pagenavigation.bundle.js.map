{"version":3,"file":"Pagenavigation.bundle.js","sources":["../src/components/CountSelect.js","../src/Pagenavigation.js"],"sourcesContent":["export const CountSelect = {\r\n   props: [\"count\", \"countDef\", \"current\"],\r\n   data() {\r\n      return {\r\n         eachArr: [1, 2, 3],\r\n         countActive: this.count,\r\n      }\r\n   },\r\n   computed: {\r\n      pageCount() {\r\n         return this.countDef == this.count ? this.count : this.countDef;\r\n      }\r\n   },\r\n   methods: {\r\n      // Переключение кол-ва\r\n      clickCounter(e) {\r\n         this.countActive = e.target.dataset.count;\r\n\r\n         let urlParams = new URL(window.location.href)\r\n         urlParams.searchParams.set('count', this.countActive);\r\n         history.pushState(null, null, urlParams);\r\n\r\n         this.$Bitrix.eventEmitter.emit('countpage', { pageN: this.current, count: this.countActive });\r\n      },\r\n   },\r\n   /* html */\r\n   template: `\r\n   <div class=\"show flex ai-center\">\r\n      <p>{{$Bitrix.Loc.getMessage('COUNT_SELECT-TITLE')}}</p>\r\n      <div class=\"__select __select-small __select-count-js\" data-state=\"\">\r\n         <div class=\"__select__title __select__title-small __select-count-title-js\" data-default=\"Option 0\">{{pageCount}}</div>\r\n         <div class=\"__select__content __select__content-small\">\r\n            <template v-for=\"(item, index) in eachArr\" :item=\"item\" :key=\"index\">\r\n               <input :id=\"'singleSelect-n'+item\" class=\"__select__input\" type=\"radio\" name=\"singleSelect\" />\r\n               <label :for=\"'singleSelect-n'+item\"\r\n                  class=\"__select__label __select__label-small __select-count-label-js\" @click=\"clickCounter\" :data-count=\"count*item\">{{count*item}}</label>\r\n            </template>\r\n\r\n         </div>\r\n      </div>\r\n   </div>\r\n   `,\r\n};\r\n","import { BitrixVue } from \"ui.vue3\";\nimport { CountSelect } from \"./components/CountSelect\";\n\nexport const Pagenavigation = BitrixVue.mutableComponent(\"Pagenavigation\", {\n\tname: \"Pagenavigation\",\n\temits: [\"pagerfunc\"],\n\tprops: [\"Total\", \"PageCNT\", \"PageCNTDef\"],\n\tcomponents: {\n\t\tCountSelect\n\t},\n\tdata() {\n\t\treturn {\n\t\t\tpageNumber: 1,\n\t\t\tpagenQuery: 'PAGEN_1',\n\t\t};\n\t},\n\tmethods: {\n\t\t// Переключение на предыдущую страницу\n\t\tpagerPrev() {\n\t\t\tif (this.pageNumber > 1) {\n\t\t\t\tthis.pageNumber--;\n\n\t\t\t\tlet urlParams = new URL(window.location.href);\n\t\t\t\tif (this.pageNumber == 1) {\n\t\t\t\t\turlParams.searchParams.delete(this.pagenQuery);\n\t\t\t\t} else {\n\t\t\t\t\turlParams.searchParams.set(this.pagenQuery, this.pageNumber);\n\t\t\t\t}\n\t\t\t\thistory.pushState(null, null, urlParams);\n\n\t\t\t\tthis.$emit(\"pagerfunc\", this.pageNumber);\n\t\t\t}\n\t\t},\n\t\t// Переключение на следующую страницу\n\t\tpagerNext() {\n\t\t\tif (this.pageNumber < this.pagerCount) {\n\t\t\t\tthis.pageNumber++;\n\n\t\t\t\tlet urlParams = new URL(window.location.href);\n\t\t\t\turlParams.searchParams.set(this.pagenQuery, this.pageNumber);\n\t\t\t\thistory.pushState(null, null, urlParams);\n\n\t\t\t\tthis.$emit(\"pagerfunc\", this.pageNumber);\n\t\t\t}\n\t\t},\n\t\t// Переключение на первую страницу\n\t\tpagerFirst() {\n\t\t\tif (this.pageNumber != 1) {\n\t\t\t\tthis.pageNumber = 1;\n\n\t\t\t\tlet urlParams = new URL(window.location.href);\n\t\t\t\turlParams.searchParams.delete(this.pagenQuery);\n\t\t\t\thistory.pushState(null, null, urlParams);\n\n\t\t\t\tthis.$emit(\"pagerfunc\", this.pageNumber);\n\t\t\t}\n\t\t},\n\t\t// Переключение на последнюю страницу\n\t\tpagerLast() {\n\t\t\tif (this.pageNumber != this.pagerCount) {\n\t\t\t\tthis.pageNumber = this.pagerCount;\n\n\t\t\t\tlet urlParams = new URL(window.location.href);\n\t\t\t\turlParams.searchParams.set(this.pagenQuery, this.pageNumber);\n\t\t\t\thistory.pushState(null, null, urlParams);\n\n\t\t\t\tthis.$emit(\"pagerfunc\", this.pageNumber);\n\t\t\t}\n\t\t},\n\t},\n\tcomputed: {\n\t\t// Первая страница\n\t\tisFirst() {\n\t\t\treturn 1 == this.pageNumber;\n\t\t},\n\t\t// Последняя страница\n\t\tisLast() {\n\t\t\treturn this.pagerCount == this.pageNumber;\n\t\t},\n\t\t// Предыдущая страница от текущей\n\t\tisPrevFirst() {\n\t\t\treturn 1 == this.pageNumber - 1;\n\t\t},\n\t\t// Следующая страница от текущей\n\t\tisNextLast() {\n\t\t\treturn this.pagerCount == this.pageNumber + 1;\n\t\t},\n\t\t// Кол-ва элементов на стр (из скольки)\n\t\toffsetCount() {\n\t\t\treturn this.isLast ? Number(this.Total) : Number(this.pageNumber) * Number(this.PageCNT);\n\t\t},\n\t\t// Кол элементов на стр (сколько)\n\t\toffset() {\n\t\t\treturn this.isFirst ? 1 : Number(this.pageNumber) * Number(this.PageCNT) - Number(this.PageCNT) + 1;\n\t\t},\n\t\t// рассчет стр\n\t\tpagerCount() {\n\t\t\treturn (\n\t\t\t\tMath.floor(this.Total / this.PageCNT) + (this.Total % this.PageCNT ? 1 : 0)\n\t\t\t);\n\t\t},\n\t},\n\tmounted() {\n\t\tlet urlParams = new URL(window.location.href);\n\t\tthis.pageNumber = urlParams.searchParams.get('PAGEN_1') ? Number(urlParams.searchParams.get('PAGEN_1')) : this.pageNumber;\n\t},\n\t//\n\t/*html*/\n\ttemplate: `\n\t<div class=\"bottom-panel flex jc-sb ai-center small\">\n\t\t\t\t<p>{{$Bitrix.Loc.getMessage('PAGE_RESULT-TITLE',{'#OFFSET#': this.offset,'#OFFSET_COUNT#': this.offsetCount,'#TOTAL#': this.Total})}}</p>\n\t\n\t\t\t\t<div class=\"pagination-buttons-group flex ai-center\"  v-if=\"pagerCount>1 && PageCNT < Total\">\n\t\t\t\t\t<a class=\"page-button\"  @click.stop=\"pagerPrev\"\n\t\t\t\t\t:disabled=\"1 == pageNumber\" href=\"javascript: void(0)\">\n\t\t\t\t\t\t<svg width=\"6\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M5.25 0.5L0.75 5L5.25 9.5\" stroke=\"#1B254A\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t\t<a class=\"page\" :class=\"{ current: isFirst }\"  @click.stop=\"pagerFirst\" href=\"javascript: void(0)\" :disabled=\"isFirst\">1</a>\n\t\t\t\t\t<template v-if=\"!isPrevFirst && !isFirst\">\n\t\t\t\t\t\t<a class=\"page\" href=\"javascript:void(0)\" @click.stop=\"pagerPrev\">{{this.pageNumber-1}}</a>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"1 != this.pageNumber && this.pageNumber != this.pagerCount\">\n\t\t\t\t\t\t<a class=\"page current\" href=\"javascript:void(0)\">{{this.pageNumber}}</a>\n\t\t\t\t\t</template>\n\t\t\t\t\t<template v-if=\"!isNextLast && !isLast\">\n\t\t\t\t\t\t<a class=\"page\" href=\"javascript:void(0)\" @click.stop=\"pagerNext\">{{this.pageNumber+1}}</a>\n\t\t\t\t\t</template>\n\t\t\t\t\t<a class=\"page\" :class=\"{ current: isLast }\" href=\"javascript:void(0)\" @click.stop=\"pagerLast\">{{this.pagerCount}}</a>\n\t\t\t\t\t<a class=\"page-button\" @click.stop=\"pagerNext\" href=\"javascript: void(0)\" :disabled=\"pagerCount == pageNumber\">\n\t\t\t\t\t\t<svg width=\"6\" height=\"10\" viewBox=\"0 0 6 10\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n\t\t\t\t\t\t\t<path d=\"M0.75 9.5L5.25 5L0.75 0.5\" stroke=\"#1B254A\" stroke-linecap=\"round\" stroke-linejoin=\"round\" />\n\t\t\t\t\t\t</svg>\n\t\t\t\t\t</a>\n\t\t\t\t</div>\n\t\n\t\t\t\t<CountSelect :count=\"this.PageCNTDef\" :countDef=\"this.PageCNT\" :current=\"this.pageNumber\"></CountSelect>\n\t\t\t</div>\n  `,\n});\n"],"names":["CountSelect","props","data","eachArr","countActive","count","computed","pageCount","countDef","methods","clickCounter","e","target","dataset","urlParams","URL","window","location","href","searchParams","set","history","pushState","$Bitrix","eventEmitter","emit","pageN","current","template","Pagenavigation","BitrixVue","mutableComponent","name","emits","components","pageNumber","pagenQuery","pagerPrev","$emit","pagerNext","pagerCount","pagerFirst","pagerLast","isFirst","isLast","isPrevFirst","isNextLast","offsetCount","Number","Total","PageCNT","offset","Math","floor","mounted","get"],"mappings":"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"}